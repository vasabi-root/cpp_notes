#include <iostream>
#include <vector>

std::vector<int> simulate(const std::vector<int> &entries)
{
    std::vector processed(entries);
    for (int i = 0; i < entries.size(); ++i) {
        int X = entries[i];
        int Tl = (i-3 >= 0) ? entries[i-3]: X-1;
        int Tr = (i+4 < entries.size()) ? entries[i+4] : X-1;
        if (X <= Tl || X <= Tr) 
            processed[i] = 0;
    }
    return processed;
}

#ifndef RunTests
int main()
{
    std::vector<int> result = simulate({1, 2, 0, 5, 0, 2, 4, 3, 3, 3});
    for (int value : result)
    {
        std::cout << value << " ";
    }
    // Expected output
    // 1, 0, 0, 5, 0, 0, 0, 3, 3, 0
}
#endif